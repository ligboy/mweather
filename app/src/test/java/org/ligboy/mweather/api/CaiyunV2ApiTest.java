package org.ligboy.mweather.api;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import org.ligboy.mweather.api.deserializer.MyTypeAdapterFactory;
import org.ligboy.mweather.model.ForecastResult;
import org.ligboy.mweather.model.forecast.Daily;

import okhttp3.mockwebserver.MockResponse;
import okhttp3.mockwebserver.MockWebServer;
import retrofit2.Call;
import retrofit2.Response;
import retrofit2.Retrofit;
import retrofit2.converter.gson.GsonConverterFactory;
import retrofit2.converter.scalars.ScalarsConverterFactory;

import static junit.framework.Assert.assertEquals;
import static junit.framework.Assert.assertNotNull;

/**
 * @author Ligboy.Liu ligboy@gmail.com.
 */
public class CaiyunV2ApiTest {

    private MockWebServer mServer;
    private CaiyunV2Api mV2Api;

    @Before
    public void setUp() throws Exception {
        mServer = new MockWebServer();

        Gson gson = new GsonBuilder()
                .registerTypeAdapterFactory(MyTypeAdapterFactory.INSTANCE)
                .create();
        Retrofit retrofit = new Retrofit.Builder()
                .baseUrl(mServer.url("/"))
                .addConverterFactory(ScalarsConverterFactory.create())
                .addConverterFactory(GsonConverterFactory.create(gson))
                .build();
        mV2Api = retrofit.create(CaiyunV2Api.class);
    }

    @After
    public void tearDown() throws Exception {
        mServer.shutdown();
    }

    @Test
    public void forecast() throws Exception {
        mServer.enqueue(new MockResponse().setBody("{\"status\":\"ok\",\"lang\":\"en_US\",\"server_time\":1466988160,\"api_status\":\"active\",\"tzshift\":28800,\"version\":\"v2.1\",\"location\":[24.877126,118.616605],\"unit\":\"metric\",\"result\":{\"hourly\":{\"status\":\"ok\",\"description\":\"cloudy, light rain after 3 early tomorrow morning\",\"skycon\":[{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-27 08:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-27 09:00\"},{\"value\":\"PARTLY_CLOUDY_DAY\",\"datetime\":\"2016-06-27 10:00\"},{\"value\":\"PARTLY_CLOUDY_DAY\",\"datetime\":\"2016-06-27 11:00\"},{\"value\":\"PARTLY_CLOUDY_DAY\",\"datetime\":\"2016-06-27 12:00\"},{\"value\":\"PARTLY_CLOUDY_DAY\",\"datetime\":\"2016-06-27 13:00\"},{\"value\":\"PARTLY_CLOUDY_DAY\",\"datetime\":\"2016-06-27 14:00\"},{\"value\":\"PARTLY_CLOUDY_DAY\",\"datetime\":\"2016-06-27 15:00\"},{\"value\":\"PARTLY_CLOUDY_DAY\",\"datetime\":\"2016-06-27 16:00\"},{\"value\":\"PARTLY_CLOUDY_DAY\",\"datetime\":\"2016-06-27 17:00\"},{\"value\":\"PARTLY_CLOUDY_DAY\",\"datetime\":\"2016-06-27 18:00\"},{\"value\":\"PARTLY_CLOUDY_NIGHT\",\"datetime\":\"2016-06-27 19:00\"},{\"value\":\"PARTLY_CLOUDY_NIGHT\",\"datetime\":\"2016-06-27 20:00\"},{\"value\":\"PARTLY_CLOUDY_NIGHT\",\"datetime\":\"2016-06-27 21:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-27 22:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-27 23:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 00:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 01:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 02:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 03:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 04:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 05:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 06:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 07:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 08:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 09:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 10:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 11:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 12:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 13:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 14:00\"},{\"value\":\"RAIN\",\"datetime\":\"2016-06-28 15:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 16:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 17:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 18:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 19:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 20:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 21:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 22:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-28 23:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-29 00:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-29 01:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-29 02:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-29 03:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-29 04:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-29 05:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-29 06:00\"},{\"value\":\"CLOUDY\",\"datetime\":\"2016-06-29 07:00\"}],\"cloudrate\":[{\"value\":0.92,\"datetime\":\"2016-06-27 08:00\"},{\"value\":0.82,\"datetime\":\"2016-06-27 09:00\"},{\"value\":0.7,\"datetime\":\"2016-06-27 10:00\"},{\"value\":0.62,\"datetime\":\"2016-06-27 11:00\"},{\"value\":0.6,\"datetime\":\"2016-06-27 12:00\"},{\"value\":0.62,\"datetime\":\"2016-06-27 13:00\"},{\"value\":0.66,\"datetime\":\"2016-06-27 14:00\"},{\"value\":0.68,\"datetime\":\"2016-06-27 15:00\"},{\"value\":0.69,\"datetime\":\"2016-06-27 16:00\"},{\"value\":0.69,\"datetime\":\"2016-06-27 17:00\"},{\"value\":0.68,\"datetime\":\"2016-06-27 18:00\"},{\"value\":0.68,\"datetime\":\"2016-06-27 19:00\"},{\"value\":0.7,\"datetime\":\"2016-06-27 20:00\"},{\"value\":0.76,\"datetime\":\"2016-06-27 21:00\"},{\"value\":0.82,\"datetime\":\"2016-06-27 22:00\"},{\"value\":0.88,\"datetime\":\"2016-06-27 23:00\"},{\"value\":0.91,\"datetime\":\"2016-06-28 00:00\"},{\"value\":0.93,\"datetime\":\"2016-06-28 01:00\"},{\"value\":0.94,\"datetime\":\"2016-06-28 02:00\"},{\"value\":0.96,\"datetime\":\"2016-06-28 03:00\"},{\"value\":0.98,\"datetime\":\"2016-06-28 04:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 05:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 06:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 07:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 08:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 09:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 10:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 11:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 12:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 13:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 14:00\"},{\"value\":1.0,\"datetime\":\"2016-06-28 15:00\"},{\"value\":0.99,\"datetime\":\"2016-06-28 16:00\"},{\"value\":0.97,\"datetime\":\"2016-06-28 17:00\"},{\"value\":0.94,\"datetime\":\"2016-06-28 18:00\"},{\"value\":0.92,\"datetime\":\"2016-06-28 19:00\"},{\"value\":0.9,\"datetime\":\"2016-06-28 20:00\"},{\"value\":0.89,\"datetime\":\"2016-06-28 21:00\"},{\"value\":0.9,\"datetime\":\"2016-06-28 22:00\"},{\"value\":0.91,\"datetime\":\"2016-06-28 23:00\"},{\"value\":0.93,\"datetime\":\"2016-06-29 00:00\"},{\"value\":0.94,\"datetime\":\"2016-06-29 01:00\"},{\"value\":0.95,\"datetime\":\"2016-06-29 02:00\"},{\"value\":0.97,\"datetime\":\"2016-06-29 03:00\"},{\"value\":0.99,\"datetime\":\"2016-06-29 04:00\"},{\"value\":1.0,\"datetime\":\"2016-06-29 05:00\"},{\"value\":1.0,\"datetime\":\"2016-06-29 06:00\"},{\"value\":1.0,\"datetime\":\"2016-06-29 07:00\"}],\"aqi\":[{\"value\":31.0,\"datetime\":\"2016-06-27 08:00\"},{\"value\":30.0,\"datetime\":\"2016-06-27 09:00\"},{\"value\":29.0,\"datetime\":\"2016-06-27 10:00\"},{\"value\":27.0,\"datetime\":\"2016-06-27 11:00\"},{\"value\":26.0,\"datetime\":\"2016-06-27 12:00\"},{\"value\":26.0,\"datetime\":\"2016-06-27 13:00\"},{\"value\":26.0,\"datetime\":\"2016-06-27 14:00\"},{\"value\":26.0,\"datetime\":\"2016-06-27 15:00\"},{\"value\":27.0,\"datetime\":\"2016-06-27 16:00\"},{\"value\":29.0,\"datetime\":\"2016-06-27 17:00\"},{\"value\":30.0,\"datetime\":\"2016-06-27 18:00\"},{\"value\":33.0,\"datetime\":\"2016-06-27 19:00\"},{\"value\":34.0,\"datetime\":\"2016-06-27 20:00\"},{\"value\":37.0,\"datetime\":\"2016-06-27 21:00\"},{\"value\":38.0,\"datetime\":\"2016-06-27 22:00\"},{\"value\":39.0,\"datetime\":\"2016-06-27 23:00\"},{\"value\":42.0,\"datetime\":\"2016-06-28 00:00\"},{\"value\":43.0,\"datetime\":\"2016-06-28 01:00\"},{\"value\":43.0,\"datetime\":\"2016-06-28 02:00\"},{\"value\":43.0,\"datetime\":\"2016-06-28 03:00\"},{\"value\":41.0,\"datetime\":\"2016-06-28 04:00\"},{\"value\":38.0,\"datetime\":\"2016-06-28 05:00\"},{\"value\":37.0,\"datetime\":\"2016-06-28 06:00\"},{\"value\":34.0,\"datetime\":\"2016-06-28 07:00\"},{\"value\":33.0,\"datetime\":\"2016-06-28 08:00\"},{\"value\":31.0,\"datetime\":\"2016-06-28 09:00\"},{\"value\":30.0,\"datetime\":\"2016-06-28 10:00\"},{\"value\":29.0,\"datetime\":\"2016-06-28 11:00\"},{\"value\":27.0,\"datetime\":\"2016-06-28 12:00\"},{\"value\":26.0,\"datetime\":\"2016-06-28 13:00\"},{\"value\":24.0,\"datetime\":\"2016-06-28 14:00\"},{\"value\":24.0,\"datetime\":\"2016-06-28 15:00\"},{\"value\":26.0,\"datetime\":\"2016-06-28 16:00\"},{\"value\":27.0,\"datetime\":\"2016-06-28 17:00\"},{\"value\":29.0,\"datetime\":\"2016-06-28 18:00\"},{\"value\":30.0,\"datetime\":\"2016-06-28 19:00\"},{\"value\":33.0,\"datetime\":\"2016-06-28 20:00\"},{\"value\":34.0,\"datetime\":\"2016-06-28 21:00\"},{\"value\":37.0,\"datetime\":\"2016-06-28 22:00\"},{\"value\":38.0,\"datetime\":\"2016-06-28 23:00\"},{\"value\":39.0,\"datetime\":\"2016-06-29 00:00\"},{\"value\":41.0,\"datetime\":\"2016-06-29 01:00\"},{\"value\":41.0,\"datetime\":\"2016-06-29 02:00\"},{\"value\":41.0,\"datetime\":\"2016-06-29 03:00\"},{\"value\":41.0,\"datetime\":\"2016-06-29 04:00\"},{\"value\":41.0,\"datetime\":\"2016-06-29 05:00\"},{\"value\":41.0,\"datetime\":\"2016-06-29 06:00\"},{\"value\":39.0,\"datetime\":\"2016-06-29 07:00\"}],\"humidity\":[{\"value\":0.77,\"datetime\":\"2016-06-27 08:00\"},{\"value\":0.7,\"datetime\":\"2016-06-27 09:00\"},{\"value\":0.64,\"datetime\":\"2016-06-27 10:00\"},{\"value\":0.59,\"datetime\":\"2016-06-27 11:00\"},{\"value\":0.56,\"datetime\":\"2016-06-27 12:00\"},{\"value\":0.55,\"datetime\":\"2016-06-27 13:00\"},{\"value\":0.55,\"datetime\":\"2016-06-27 14:00\"},{\"value\":0.57,\"datetime\":\"2016-06-27 15:00\"},{\"value\":0.6,\"datetime\":\"2016-06-27 16:00\"},{\"value\":0.64,\"datetime\":\"2016-06-27 17:00\"},{\"value\":0.71,\"datetime\":\"2016-06-27 18:00\"},{\"value\":0.78,\"datetime\":\"2016-06-27 19:00\"},{\"value\":0.84,\"datetime\":\"2016-06-27 20:00\"},{\"value\":0.87,\"datetime\":\"2016-06-27 21:00\"},{\"value\":0.88,\"datetime\":\"2016-06-27 22:00\"},{\"value\":0.88,\"datetime\":\"2016-06-27 23:00\"},{\"value\":0.88,\"datetime\":\"2016-06-28 00:00\"},{\"value\":0.88,\"datetime\":\"2016-06-28 01:00\"},{\"value\":0.89,\"datetime\":\"2016-06-28 02:00\"},{\"value\":0.91,\"datetime\":\"2016-06-28 03:00\"},{\"value\":0.92,\"datetime\":\"2016-06-28 04:00\"},{\"value\":0.92,\"datetime\":\"2016-06-28 05:00\"},{\"value\":0.91,\"datetime\":\"2016-06-28 06:00\"},{\"value\":0.88,\"datetime\":\"2016-06-28 07:00\"},{\"value\":0.84,\"datetime\":\"2016-06-28 08:00\"},{\"value\":0.78,\"datetime\":\"2016-06-28 09:00\"},{\"value\":0.72,\"datetime\":\"2016-06-28 10:00\"},{\"value\":0.67,\"datetime\":\"2016-06-28 11:00\"},{\"value\":0.64,\"datetime\":\"2016-06-28 12:00\"},{\"value\":0.62,\"datetime\":\"2016-06-28 13:00\"},{\"value\":0.62,\"datetime\":\"2016-06-28 14:00\"},{\"value\":0.62,\"datetime\":\"2016-06-28 15:00\"},{\"value\":0.64,\"datetime\":\"2016-06-28 16:00\"},{\"value\":0.67,\"datetime\":\"2016-06-28 17:00\"},{\"value\":0.73,\"datetime\":\"2016-06-28 18:00\"},{\"value\":0.79,\"datetime\":\"2016-06-28 19:00\"},{\"value\":0.84,\"datetime\":\"2016-06-28 20:00\"},{\"value\":0.87,\"datetime\":\"2016-06-28 21:00\"},{\"value\":0.88,\"datetime\":\"2016-06-28 22:00\"},{\"value\":0.88,\"datetime\":\"2016-06-28 23:00\"},{\"value\":0.89,\"datetime\":\"2016-06-29 00:00\"},{\"value\":0.91,\"datetime\":\"2016-06-29 01:00\"},{\"value\":0.93,\"datetime\":\"2016-06-29 02:00\"},{\"value\":0.94,\"datetime\":\"2016-06-29 03:00\"},{\"value\":0.95,\"datetime\":\"2016-06-29 04:00\"},{\"value\":0.94,\"datetime\":\"2016-06-29 05:00\"},{\"value\":0.9,\"datetime\":\"2016-06-29 06:00\"},{\"value\":0.85,\"datetime\":\"2016-06-29 07:00\"}],\"pm25\":[{\"value\":21.0,\"datetime\":\"2016-06-27 08:00\"},{\"value\":20.0,\"datetime\":\"2016-06-27 09:00\"},{\"value\":19.0,\"datetime\":\"2016-06-27 10:00\"},{\"value\":18.0,\"datetime\":\"2016-06-27 11:00\"},{\"value\":17.0,\"datetime\":\"2016-06-27 12:00\"},{\"value\":17.0,\"datetime\":\"2016-06-27 13:00\"},{\"value\":17.0,\"datetime\":\"2016-06-27 14:00\"},{\"value\":17.0,\"datetime\":\"2016-06-27 15:00\"},{\"value\":18.0,\"datetime\":\"2016-06-27 16:00\"},{\"value\":19.0,\"datetime\":\"2016-06-27 17:00\"},{\"value\":20.0,\"datetime\":\"2016-06-27 18:00\"},{\"value\":22.0,\"datetime\":\"2016-06-27 19:00\"},{\"value\":23.0,\"datetime\":\"2016-06-27 20:00\"},{\"value\":25.0,\"datetime\":\"2016-06-27 21:00\"},{\"value\":26.0,\"datetime\":\"2016-06-27 22:00\"},{\"value\":27.0,\"datetime\":\"2016-06-27 23:00\"},{\"value\":29.0,\"datetime\":\"2016-06-28 00:00\"},{\"value\":30.0,\"datetime\":\"2016-06-28 01:00\"},{\"value\":30.0,\"datetime\":\"2016-06-28 02:00\"},{\"value\":30.0,\"datetime\":\"2016-06-28 03:00\"},{\"value\":28.0,\"datetime\":\"2016-06-28 04:00\"},{\"value\":26.0,\"datetime\":\"2016-06-28 05:00\"},{\"value\":25.0,\"datetime\":\"2016-06-28 06:00\"},{\"value\":23.0,\"datetime\":\"2016-06-28 07:00\"},{\"value\":22.0,\"datetime\":\"2016-06-28 08:00\"},{\"value\":21.0,\"datetime\":\"2016-06-28 09:00\"},{\"value\":20.0,\"datetime\":\"2016-06-28 10:00\"},{\"value\":19.0,\"datetime\":\"2016-06-28 11:00\"},{\"value\":18.0,\"datetime\":\"2016-06-28 12:00\"},{\"value\":17.0,\"datetime\":\"2016-06-28 13:00\"},{\"value\":16.0,\"datetime\":\"2016-06-28 14:00\"},{\"value\":16.0,\"datetime\":\"2016-06-28 15:00\"},{\"value\":17.0,\"datetime\":\"2016-06-28 16:00\"},{\"value\":18.0,\"datetime\":\"2016-06-28 17:00\"},{\"value\":19.0,\"datetime\":\"2016-06-28 18:00\"},{\"value\":20.0,\"datetime\":\"2016-06-28 19:00\"},{\"value\":22.0,\"datetime\":\"2016-06-28 20:00\"},{\"value\":23.0,\"datetime\":\"2016-06-28 21:00\"},{\"value\":25.0,\"datetime\":\"2016-06-28 22:00\"},{\"value\":26.0,\"datetime\":\"2016-06-28 23:00\"},{\"value\":27.0,\"datetime\":\"2016-06-29 00:00\"},{\"value\":28.0,\"datetime\":\"2016-06-29 01:00\"},{\"value\":28.0,\"datetime\":\"2016-06-29 02:00\"},{\"value\":28.0,\"datetime\":\"2016-06-29 03:00\"},{\"value\":28.0,\"datetime\":\"2016-06-29 04:00\"},{\"value\":28.0,\"datetime\":\"2016-06-29 05:00\"},{\"value\":28.0,\"datetime\":\"2016-06-29 06:00\"},{\"value\":27.0,\"datetime\":\"2016-06-29 07:00\"}],\"precipitation\":[{\"value\":0.0,\"datetime\":\"2016-06-27 08:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 09:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 10:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 11:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 12:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 13:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 14:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 15:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 16:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 17:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 18:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 19:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 20:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 21:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 22:00\"},{\"value\":0.0,\"datetime\":\"2016-06-27 23:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 00:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 01:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 02:00\"},{\"value\":0.2081,\"datetime\":\"2016-06-28 03:00\"},{\"value\":0.4725,\"datetime\":\"2016-06-28 04:00\"},{\"value\":0.6865,\"datetime\":\"2016-06-28 05:00\"},{\"value\":0.766,\"datetime\":\"2016-06-28 06:00\"},{\"value\":0.7205,\"datetime\":\"2016-06-28 07:00\"},{\"value\":0.5828,\"datetime\":\"2016-06-28 08:00\"},{\"value\":0.3897,\"datetime\":\"2016-06-28 09:00\"},{\"value\":0.1942,\"datetime\":\"2016-06-28 10:00\"},{\"value\":0.0531,\"datetime\":\"2016-06-28 11:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 12:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 13:00\"},{\"value\":0.0445,\"datetime\":\"2016-06-28 14:00\"},{\"value\":0.0429,\"datetime\":\"2016-06-28 15:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 16:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 17:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 18:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 19:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 20:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 21:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 22:00\"},{\"value\":0.0,\"datetime\":\"2016-06-28 23:00\"},{\"value\":0.0,\"datetime\":\"2016-06-29 00:00\"},{\"value\":0.0,\"datetime\":\"2016-06-29 01:00\"},{\"value\":0.0,\"datetime\":\"2016-06-29 02:00\"},{\"value\":0.0,\"datetime\":\"2016-06-29 03:00\"},{\"value\":0.0,\"datetime\":\"2016-06-29 04:00\"},{\"value\":0.0,\"datetime\":\"2016-06-29 05:00\"},{\"value\":0.0,\"datetime\":\"2016-06-29 06:00\"},{\"value\":0.0,\"datetime\":\"2016-06-29 07:00\"}],\"wind\":[{\"direction\":212.63,\"speed\":7.54,\"datetime\":\"2016-06-27 08:00\"},{\"direction\":210.03,\"speed\":9.31,\"datetime\":\"2016-06-27 09:00\"},{\"direction\":207.34,\"speed\":11.28,\"datetime\":\"2016-06-27 10:00\"},{\"direction\":205.04,\"speed\":13.31,\"datetime\":\"2016-06-27 11:00\"},{\"direction\":203.32,\"speed\":15.22,\"datetime\":\"2016-06-27 12:00\"},{\"direction\":202.31,\"speed\":16.78,\"datetime\":\"2016-06-27 13:00\"},{\"direction\":202.15,\"speed\":17.71,\"datetime\":\"2016-06-27 14:00\"},{\"direction\":202.97,\"speed\":17.79,\"datetime\":\"2016-06-27 15:00\"},{\"direction\":204.61,\"speed\":16.99,\"datetime\":\"2016-06-27 16:00\"},{\"direction\":207.03,\"speed\":15.29,\"datetime\":\"2016-06-27 17:00\"},{\"direction\":210.56,\"speed\":12.81,\"datetime\":\"2016-06-27 18:00\"},{\"direction\":216.17,\"speed\":10.2,\"datetime\":\"2016-06-27 19:00\"},{\"direction\":224.53,\"speed\":8.23,\"datetime\":\"2016-06-27 20:00\"},{\"direction\":233.46,\"speed\":7.45,\"datetime\":\"2016-06-27 21:00\"},{\"direction\":239.53,\"speed\":7.43,\"datetime\":\"2016-06-27 22:00\"},{\"direction\":241.97,\"speed\":7.56,\"datetime\":\"2016-06-27 23:00\"},{\"direction\":241.6,\"speed\":7.43,\"datetime\":\"2016-06-28 00:00\"},{\"direction\":238.84,\"speed\":7.12,\"datetime\":\"2016-06-28 01:00\"},{\"direction\":233.95,\"speed\":6.88,\"datetime\":\"2016-06-28 02:00\"},{\"direction\":227.96,\"speed\":6.91,\"datetime\":\"2016-06-28 03:00\"},{\"direction\":223.02,\"speed\":7.2,\"datetime\":\"2016-06-28 04:00\"},{\"direction\":220.96,\"speed\":7.66,\"datetime\":\"2016-06-28 05:00\"},{\"direction\":221.89,\"speed\":8.22,\"datetime\":\"2016-06-28 06:00\"},{\"direction\":222.16,\"speed\":9.07,\"datetime\":\"2016-06-28 07:00\"},{\"direction\":218.57,\"speed\":10.45,\"datetime\":\"2016-06-28 08:00\"},{\"direction\":211.32,\"speed\":12.62,\"datetime\":\"2016-06-28 09:00\"},{\"direction\":204.75,\"speed\":15.3,\"datetime\":\"2016-06-28 10:00\"},{\"direction\":200.86,\"speed\":17.78,\"datetime\":\"2016-06-28 11:00\"},{\"direction\":199.74,\"speed\":19.37,\"datetime\":\"2016-06-28 12:00\"},{\"direction\":200.32,\"speed\":20.03,\"datetime\":\"2016-06-28 13:00\"},{\"direction\":201.85,\"speed\":19.97,\"datetime\":\"2016-06-28 14:00\"},{\"direction\":203.83,\"speed\":19.33,\"datetime\":\"2016-06-28 15:00\"},{\"direction\":205.89,\"speed\":18.02,\"datetime\":\"2016-06-28 16:00\"},{\"direction\":207.69,\"speed\":15.9,\"datetime\":\"2016-06-28 17:00\"},{\"direction\":208.79,\"speed\":12.98,\"datetime\":\"2016-06-28 18:00\"},{\"direction\":208.57,\"speed\":10.02,\"datetime\":\"2016-06-28 19:00\"},{\"direction\":205.71,\"speed\":7.99,\"datetime\":\"2016-06-28 20:00\"},{\"direction\":200.4,\"speed\":7.58,\"datetime\":\"2016-06-28 21:00\"},{\"direction\":196.84,\"speed\":8.07,\"datetime\":\"2016-06-28 22:00\"},{\"direction\":197.45,\"speed\":8.36,\"datetime\":\"2016-06-28 23:00\"},{\"direction\":203.43,\"speed\":7.68,\"datetime\":\"2016-06-29 00:00\"},{\"direction\":215.06,\"speed\":6.54,\"datetime\":\"2016-06-29 01:00\"},{\"direction\":230.33,\"speed\":5.67,\"datetime\":\"2016-06-29 02:00\"},{\"direction\":242.56,\"speed\":5.27,\"datetime\":\"2016-06-29 03:00\"},{\"direction\":248.19,\"speed\":5.19,\"datetime\":\"2016-06-29 04:00\"},{\"direction\":246.71,\"speed\":5.39,\"datetime\":\"2016-06-29 05:00\"},{\"direction\":239.81,\"speed\":6.04,\"datetime\":\"2016-06-29 06:00\"},{\"direction\":230.81,\"speed\":7.14,\"datetime\":\"2016-06-29 07:00\"}],\"temperature\":[{\"value\":25.0,\"datetime\":\"2016-06-27 08:00\"},{\"value\":26.94,\"datetime\":\"2016-06-27 09:00\"},{\"value\":28.37,\"datetime\":\"2016-06-27 10:00\"},{\"value\":29.61,\"datetime\":\"2016-06-27 11:00\"},{\"value\":30.65,\"datetime\":\"2016-06-27 12:00\"},{\"value\":31.51,\"datetime\":\"2016-06-27 13:00\"},{\"value\":32.19,\"datetime\":\"2016-06-27 14:00\"},{\"value\":32.04,\"datetime\":\"2016-06-27 15:00\"},{\"value\":31.65,\"datetime\":\"2016-06-27 16:00\"},{\"value\":30.92,\"datetime\":\"2016-06-27 17:00\"},{\"value\":29.8,\"datetime\":\"2016-06-27 18:00\"},{\"value\":28.17,\"datetime\":\"2016-06-27 19:00\"},{\"value\":26.92,\"datetime\":\"2016-06-27 20:00\"},{\"value\":26.39,\"datetime\":\"2016-06-27 21:00\"},{\"value\":26.37,\"datetime\":\"2016-06-27 22:00\"},{\"value\":26.52,\"datetime\":\"2016-06-27 23:00\"},{\"value\":26.56,\"datetime\":\"2016-06-28 00:00\"},{\"value\":26.46,\"datetime\":\"2016-06-28 01:00\"},{\"value\":26.26,\"datetime\":\"2016-06-28 02:00\"},{\"value\":26.01,\"datetime\":\"2016-06-28 03:00\"},{\"value\":25.87,\"datetime\":\"2016-06-28 04:00\"},{\"value\":26.03,\"datetime\":\"2016-06-28 05:00\"},{\"value\":26.61,\"datetime\":\"2016-06-28 06:00\"},{\"value\":27.51,\"datetime\":\"2016-06-28 07:00\"},{\"value\":28.57,\"datetime\":\"2016-06-28 08:00\"},{\"value\":29.64,\"datetime\":\"2016-06-28 09:00\"},{\"value\":30.43,\"datetime\":\"2016-06-28 10:00\"},{\"value\":30.96,\"datetime\":\"2016-06-28 11:00\"},{\"value\":31.28,\"datetime\":\"2016-06-28 12:00\"},{\"value\":31.43,\"datetime\":\"2016-06-28 13:00\"},{\"value\":31.46,\"datetime\":\"2016-06-28 14:00\"},{\"value\":31.38,\"datetime\":\"2016-06-28 15:00\"},{\"value\":31.12,\"datetime\":\"2016-06-28 16:00\"},{\"value\":30.55,\"datetime\":\"2016-06-28 17:00\"},{\"value\":29.49,\"datetime\":\"2016-06-28 18:00\"},{\"value\":28.04,\"datetime\":\"2016-06-28 19:00\"},{\"value\":26.9,\"datetime\":\"2016-06-28 20:00\"},{\"value\":26.38,\"datetime\":\"2016-06-28 21:00\"},{\"value\":26.28,\"datetime\":\"2016-06-28 22:00\"},{\"value\":26.31,\"datetime\":\"2016-06-28 23:00\"},{\"value\":26.2,\"datetime\":\"2016-06-29 00:00\"},{\"value\":25.94,\"datetime\":\"2016-06-29 01:00\"},{\"value\":25.57,\"datetime\":\"2016-06-29 02:00\"},{\"value\":25.17,\"datetime\":\"2016-06-29 03:00\"},{\"value\":24.96,\"datetime\":\"2016-06-29 04:00\"},{\"value\":25.22,\"datetime\":\"2016-06-29 05:00\"},{\"value\":26.1,\"datetime\":\"2016-06-29 06:00\"},{\"value\":27.4,\"datetime\":\"2016-06-29 07:00\"}]},\"minutely\":{\"status\":\"ok\",\"description\":\"No rain in the next hour, go out and play\",\"probability\":[0.066013962,0.0913456678,0.1362040788,0.1477408707],\"datasource\":\"radar\",\"precipitation_2h\":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],\"precipitation\":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]},\"daily\":{\"status\":\"ok\",\"coldRisk\":[{\"index\":\"4\",\"desc\":\"Extremely prone\",\"datetime\":\"2016-06-27\"},{\"index\":\"3\",\"desc\":\"Prone\",\"datetime\":\"2016-06-28\"},{\"index\":\"3\",\"desc\":\"Prone\",\"datetime\":\"2016-06-29\"},{\"index\":\"3\",\"desc\":\"Prone\",\"datetime\":\"2016-06-30\"},{\"index\":\"3\",\"desc\":\"Prone\",\"datetime\":\"2016-07-01\"}],\"temperature\":[{\"date\":\"2016-06-27\",\"max\":32.19,\"avg\":28.94,\"min\":24.79},{\"date\":\"2016-06-28\",\"max\":31.46,\"avg\":28.4,\"min\":25.87},{\"date\":\"2016-06-29\",\"max\":31.62,\"avg\":28.18,\"min\":24.96},{\"date\":\"2016-06-30\",\"max\":31.84,\"avg\":28.01,\"min\":25.19},{\"date\":\"2016-07-01\",\"max\":31.48,\"avg\":27.92,\"min\":24.59}],\"skycon\":[{\"date\":\"2016-06-27\",\"value\":\"PARTLY_CLOUDY_DAY\"},{\"date\":\"2016-06-28\",\"value\":\"RAIN\"},{\"date\":\"2016-06-29\",\"value\":\"CLOUDY\"},{\"date\":\"2016-06-30\",\"value\":\"PARTLY_CLOUDY_DAY\"},{\"date\":\"2016-07-01\",\"value\":\"CLOUDY\"}],\"cloudrate\":[{\"date\":\"2016-06-27\",\"max\":1.0,\"avg\":0.72,\"min\":0.6},{\"date\":\"2016-06-28\",\"max\":1.0,\"avg\":0.96,\"min\":0.89},{\"date\":\"2016-06-29\",\"max\":1.0,\"avg\":0.99,\"min\":0.93},{\"date\":\"2016-06-30\",\"max\":1.0,\"avg\":0.77,\"min\":0.11},{\"date\":\"2016-07-01\",\"max\":0.99,\"avg\":0.87,\"min\":0.7}],\"aqi\":[{\"date\":\"2016-06-27\",\"max\":39.0,\"avg\":30.5,\"min\":26.0},{\"date\":\"2016-06-28\",\"max\":43.0,\"avg\":33.29,\"min\":24.0},{\"date\":\"2016-06-29\",\"max\":43.0,\"avg\":37.75,\"min\":33.0},{\"date\":\"2016-06-30\",\"max\":46.0,\"avg\":39.46,\"min\":33.0},{\"date\":\"2016-07-01\",\"max\":47.0,\"avg\":40.79,\"min\":34.0}],\"humidity\":[{\"date\":\"2016-06-27\",\"max\":0.97,\"avg\":0.7,\"min\":0.55},{\"date\":\"2016-06-28\",\"max\":0.92,\"avg\":0.79,\"min\":0.62},{\"date\":\"2016-06-29\",\"max\":0.95,\"avg\":0.8,\"min\":0.62},{\"date\":\"2016-06-30\",\"max\":0.95,\"avg\":0.8,\"min\":0.59},{\"date\":\"2016-07-01\",\"max\":0.97,\"avg\":0.8,\"min\":0.6}],\"astro\":[{\"date\":\"2016-06-27\",\"sunset\":{\"time\":\"18:58\"},\"sunrise\":{\"time\":\"05:18\"}},{\"date\":\"2016-06-28\",\"sunset\":{\"time\":\"18:58\"},\"sunrise\":{\"time\":\"05:18\"}},{\"date\":\"2016-06-29\",\"sunset\":{\"time\":\"18:59\"},\"sunrise\":{\"time\":\"05:19\"}},{\"date\":\"2016-06-30\",\"sunset\":{\"time\":\"18:59\"},\"sunrise\":{\"time\":\"05:19\"}},{\"date\":\"2016-07-01\",\"sunset\":{\"time\":\"18:59\"},\"sunrise\":{\"time\":\"05:19\"}}],\"ultraviolet\":[{\"index\":\"2\",\"desc\":\"Moderat\",\"datetime\":\"2016-06-27\"},{\"index\":\"1\",\"desc\":\"Low\",\"datetime\":\"2016-06-28\"},{\"index\":\"1\",\"desc\":\"Low\",\"datetime\":\"2016-06-29\"},{\"index\":\"1\",\"desc\":\"Low\",\"datetime\":\"2016-06-30\"},{\"index\":\"1\",\"desc\":\"Low\",\"datetime\":\"2016-07-01\"}],\"pm25\":[{\"date\":\"2016-06-27\",\"max\":27.0,\"avg\":20.38,\"min\":17.0},{\"date\":\"2016-06-28\",\"max\":30.0,\"avg\":22.5,\"min\":16.0},{\"date\":\"2016-06-29\",\"max\":30.0,\"avg\":25.75,\"min\":22.0},{\"date\":\"2016-06-30\",\"max\":32.0,\"avg\":27.04,\"min\":22.0},{\"date\":\"2016-07-01\",\"max\":33.0,\"avg\":28.12,\"min\":23.0}],\"dressing\":[{\"index\":\"2\",\"desc\":\"Very hot\",\"datetime\":\"2016-06-27\"},{\"index\":\"2\",\"desc\":\"Very hot\",\"datetime\":\"2016-06-28\"},{\"index\":\"2\",\"desc\":\"Very hot\",\"datetime\":\"2016-06-29\"},{\"index\":\"2\",\"desc\":\"Very hot\",\"datetime\":\"2016-06-30\"},{\"index\":\"2\",\"desc\":\"Very hot\",\"datetime\":\"2016-07-01\"}],\"carWashing\":[{\"index\":\"1\",\"desc\":\"Suitable\",\"datetime\":\"2016-06-27\"},{\"index\":\"3\",\"desc\":\"Less appropriate\",\"datetime\":\"2016-06-28\"},{\"index\":\"3\",\"desc\":\"Less appropriate\",\"datetime\":\"2016-06-29\"},{\"index\":\"1\",\"desc\":\"Suitable\",\"datetime\":\"2016-06-30\"},{\"index\":\"1\",\"desc\":\"Suitable\",\"datetime\":\"2016-07-01\"}],\"precipitation\":[{\"date\":\"2016-06-27\",\"max\":0.0,\"avg\":0.0,\"min\":0.0},{\"date\":\"2016-06-28\",\"max\":0.766,\"avg\":0.1734,\"min\":0.0},{\"date\":\"2016-06-29\",\"max\":0.0412,\"avg\":0.0034,\"min\":0.0},{\"date\":\"2016-06-30\",\"max\":0.0,\"avg\":0.0,\"min\":0.0},{\"date\":\"2016-07-01\",\"max\":0.0,\"avg\":0.0,\"min\":0.0}],\"wind\":[{\"date\":\"2016-06-27\",\"max\":{\"direction\":202.97,\"speed\":17.79},\"avg\":{\"direction\":212.43,\"speed\":9.82},\"min\":{\"direction\":219.77,\"speed\":4.59}},{\"date\":\"2016-06-28\",\"max\":{\"direction\":200.32,\"speed\":20.03},\"avg\":{\"direction\":209.36,\"speed\":11.84},\"min\":{\"direction\":233.95,\"speed\":6.88}},{\"date\":\"2016-06-29\",\"max\":{\"direction\":195.52,\"speed\":17.28},\"avg\":{\"direction\":207.67,\"speed\":10.1},\"min\":{\"direction\":248.19,\"speed\":5.19}},{\"date\":\"2016-06-30\",\"max\":{\"direction\":196.77,\"speed\":19.35},\"avg\":{\"direction\":208.36,\"speed\":10.43},\"min\":{\"direction\":233.24,\"speed\":4.67}},{\"date\":\"2016-07-01\",\"max\":{\"direction\":192.52,\"speed\":20.65},\"avg\":{\"direction\":203.78,\"speed\":11.02},\"min\":{\"direction\":251.33,\"speed\":4.71}}]},\"primary\":0}}"));
        Call<ForecastResult> resultCall = mV2Api.forecast("xxxxx", "232323,2323", "en_US");
        Response<ForecastResult> resultResponse = resultCall.execute();
        ForecastResult result = resultResponse.body();
        assertEquals("ok", result.status);
        assertEquals("en_US", result.language);
        assertEquals(1466988160L, result.serverTime);
        assertEquals("active", result.apiStatus);
        assertEquals(28800, result.tzShift);
        assertEquals("v2.1", result.version);
        assertEquals("metric", result.unit);
        assertNotNull(result.location);
        assertEquals(2, result.location.length);
        assertNotNull(result.result);
        assertEquals(0, result.result.primary);
        Daily daily = result.result.daily;
        assertEquals(1466956800000L, daily.coldRisks[0].datetime.getTime());
    }

    @Test
    public void realTime() throws Exception {

    }

    @Test
    public void pm25() throws Exception {

    }

}